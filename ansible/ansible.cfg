[defaults]
# インベントリファイルのパス
inventory = inventory.ini
# SSH接続時にホスト鍵の確認をスキップ（初回接続時の yes/no 入力を省略）
host_key_checking = False
# EC2のデフォルトユーザー
remote_user = ubuntu
# Ansibleの出力を見やすくする（ansible-core 2.13以降の形式）
stdout_callback = ansible.builtin.default
callbacks_enabled = ansible.posix.profile_tasks

[ssh_connection]
# SSMトンネル経由でSSH接続する（22番ポートを開けずにAnsible実行可能）
ssh_args = -o ProxyCommand="aws ssm start-session --target %h --document-name AWS-StartSSHSession --parameters portNumber=%p"

[privilege_escalation]
# sudo を使ってroot権限で実行（Dockerインストール等に必要）
become = True
become_method = sudo
